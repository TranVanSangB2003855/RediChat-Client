{"remainingRequest":"C:\\Users\\tranv\\Music\\socketio-example-PART-2\\socketio-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tranv\\Music\\socketio-example-PART-2\\socketio-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\tranv\\Music\\socketio-example-PART-2\\socketio-vue\\src\\services\\socketio.service.js","dependencies":[{"path":"C:\\Users\\tranv\\Music\\socketio-example-PART-2\\socketio-vue\\src\\services\\socketio.service.js","mtime":1676964276265},{"path":"C:\\Users\\tranv\\Music\\socketio-example-PART-2\\socketio-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676947860410},{"path":"C:\\Users\\tranv\\Music\\socketio-example-PART-2\\socketio-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1676947861784},{"path":"C:\\Users\\tranv\\Music\\socketio-example-PART-2\\socketio-vue\\node_modules\\eslint-loader\\index.js","mtime":1676947845504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy90cmFudi9NdXNpYy9zb2NrZXRpby1leGFtcGxlLVBBUlQtMi9zb2NrZXRpby12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi9Vc2Vycy90cmFudi9NdXNpYy9zb2NrZXRpby1leGFtcGxlLVBBUlQtMi9zb2NrZXRpby12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy90cmFudi9NdXNpYy9zb2NrZXRpby1leGFtcGxlLVBBUlQtMi9zb2NrZXRpby12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKLy8gaW1wb3J0IHsgaW8gfSBmcm9tICdzb2NrZXQuaW8tY2xpZW50JzsKLy8gY2xhc3MgU29ja2V0aW9TZXJ2aWNlIHsKLy8gICBzb2NrZXQ7Ci8vICAgY29uc3RydWN0b3IoKSB7fQovLyAgIHNldHVwU29ja2V0Q29ubmVjdGlvbih0b2tlbikgewovLyAgICAgdGhpcy5zb2NrZXQgPSBpbyhwcm9jZXNzLmVudi5WVUVfQVBQX1NPQ0tFVF9FTkRQT0lOVCwgewovLyAgICAgICBhdXRoOiB7Ci8vICAgICAgICAgdG9rZW4sCi8vICAgICAgIH0sCi8vICAgICB9KTsKLy8gICAgIGNvbnNvbGUubG9nKGBDb25uZWN0aW5nIHNvY2tldC4uLmApOwovLyAgICAgdGhpcy5zb2NrZXQub24oJ215IGJyb2FkY2FzdCcsIChkYXRhKSA9PiB7Ci8vICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwovLyAgICAgfSk7Ci8vICAgfQovLyAgIHN1YnNjcmliZVRvTWVzc2FnZXMoY2IpIHsKLy8gICAgIGlmICghdGhpcy5zb2NrZXQpIHJldHVybih0cnVlKTsKLy8gICAgIHRoaXMuc29ja2V0Lm9uKCdtZXNzYWdlJywgbXNnID0+IHsKLy8gICAgICAgY29uc29sZS5sb2coJ1Jvb20gZXZlbnQgcmVjZWl2ZWQhJyk7Ci8vICAgICAgIHJldHVybiBjYihudWxsLCBtc2cpOwovLyAgICAgfSk7Ci8vICAgfQovLyAgIHNlbmRNZXNzYWdlKHttZXNzYWdlLCByb29tTmFtZX0sIGNiKSB7Ci8vICAgICBpZiAodGhpcy5zb2NrZXQpIHRoaXMuc29ja2V0LmVtaXQoJ21lc3NhZ2UnLCB7IG1lc3NhZ2UsIHJvb21OYW1lIH0sIGNiKTsKLy8gICB9Ci8vICAgZGlzY29ubmVjdCgpIHsKLy8gICAgIGlmKHRoaXMuc29ja2V0KSB7Ci8vICAgICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QoKTsKLy8gICAgIH0KLy8gICB9Ci8vIH0KLy8gZXhwb3J0IGRlZmF1bHQgbmV3IFNvY2tldGlvU2VydmljZSgpOwppbXBvcnQgeyBpbyB9IGZyb20gJ3NvY2tldC5pby1jbGllbnQnOwoKdmFyIFNvY2tldGlvU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gU29ja2V0aW9TZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvY2tldGlvU2VydmljZSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzb2NrZXQiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY2hhdFJvb20iLCAnJyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU29ja2V0aW9TZXJ2aWNlLCBbewogICAga2V5OiAic2V0dXBTb2NrZXRDb25uZWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cFNvY2tldENvbm5lY3Rpb24odG9rZW4pIHsKICAgICAgdGhpcy5zb2NrZXQgPSBpbyhwcm9jZXNzLmVudi5WVUVfQVBQX1NPQ0tFVF9FTkRQT0lOVCwgey8vIGF1dGg6IHsKICAgICAgICAvLyAgIHRva2VuLAogICAgICAgIC8vIH0sCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygiQ29ubmVjdGluZyBzb2NrZXQuLi4iLCB0b2tlbik7CiAgICAgIHRoaXMuc29ja2V0Lm9uKCdteSBicm9hZGNhc3QnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICB9KTsKICAgIH0gLy8gc3Vic2NyaWJlVG9NZXNzYWdlcyhjYikgewogICAgLy8gICBpZiAoIXRoaXMuc29ja2V0KSByZXR1cm4odHJ1ZSk7CiAgICAvLyAgIHRoaXMuc29ja2V0Lm9uKCdtZXNzYWdlJywgbXNnID0+IHsKICAgIC8vICAgICBjb25zb2xlLmxvZygnUm9vbSBldmVudCByZWNlaXZlZCEnKTsKICAgIC8vICAgICByZXR1cm4gY2IobnVsbCwgbXNnKTsKICAgIC8vICAgfSk7CiAgICAvLyB9CgogIH0sIHsKICAgIGtleTogInJlY2VpdmVNZXNzYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWNlaXZlTWVzc2FnZShjYikgewogICAgICBpZiAoIXRoaXMuc29ja2V0KSByZXR1cm4gdHJ1ZTsKICAgICAgdGhpcy5zb2NrZXQub24oInJlY2VpdmVNZXNzYWdlIiwgZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICByZXR1cm4gY2IobnVsbCwgewogICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICAgIG5hbWU6ICJTdHJhbmdlciIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RhdHVzUm9vbSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhdHVzUm9vbShjYikgewogICAgICBpZiAoIXRoaXMuc29ja2V0KSByZXR1cm4gdHJ1ZTsKICAgICAgdGhpcy5zb2NrZXQub24oInN0YXR1c1Jvb20iLCBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgIHJldHVybiBjYihudWxsLCB7CiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgbmFtZTogIkJvdCIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9IC8vIHNlbmRNZXNzYWdlKHttZXNzYWdlLCByb29tTmFtZX0sIGNiKSB7CiAgICAvLyAgIGlmICh0aGlzLnNvY2tldCkgdGhpcy5zb2NrZXQuZW1pdCgnbWVzc2FnZScsIHsgbWVzc2FnZSwgcm9vbU5hbWUgfSwgY2IpOwogICAgLy8gfQoKICB9LCB7CiAgICBrZXk6ICJzZW5kTWVzc2FnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UobWVzc2FnZSwgY2IpIHsKICAgICAgaWYgKHRoaXMuc29ja2V0KSB0aGlzLnNvY2tldC5lbWl0KCdzZW5kTWVzc2FnZScsIG1lc3NhZ2UsIGNiKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkaXNjb25uZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0KCkgewogICAgICBpZiAodGhpcy5zb2NrZXQpIHsKICAgICAgICB0aGlzLnNvY2tldC5kaXNjb25uZWN0KCk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBTb2NrZXRpb1NlcnZpY2U7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IG5ldyBTb2NrZXRpb1NlcnZpY2UoKTsgLy8gaW1wb3J0IHsgaW8gfSBmcm9tICdzb2NrZXQuaW8tY2xpZW50JzsKLy8gY2xhc3MgU29ja2V0aW9TZXJ2aWNlIHsKLy8gICBzb2NrZXQ7Ci8vICAgY29uc3RydWN0b3IoKSB7fQovLyAgIHNldHVwU29ja2V0Q29ubmVjdGlvbigpIHsKLy8gICAgIHRoaXMuc29ja2V0ID0gaW8ocHJvY2Vzcy5lbnYuVlVFX0FQUF9TT0NLRVRfRU5EUE9JTlQpOwovLyAgICAgdGhpcy5zb2NrZXQuZW1pdCgnbXkgbWVzc2FnZScsICdIZWxsbyB0aGVyZSBmcm9tIFZ1ZS4nKTsKLy8gICAgIHRoaXMuc29ja2V0Lm9uKCdteSBicm9hZGNhc3QnLCAoZGF0YSkgPT4gewovLyAgICAgICBjb25zb2xlLmxvZyhkYXRhLCB0aGlzLnNvY2tldCk7Ci8vICAgICB9KTsKLy8gICB9Ci8vICAgZGlzY29ubmVjdCgpIHsKLy8gICAgIGlmKHRoaXMuc29ja2V0KSB7Ci8vICAgICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QoKTsKLy8gICAgIH0KLy8gICB9Ci8vIH0KLy8gZXhwb3J0IGRlZmF1bHQgbmV3IFNvY2tldGlvU2VydmljZSgpOw=="},{"version":3,"sources":["C:/Users/tranv/Music/socketio-example-PART-2/socketio-vue/src/services/socketio.service.js"],"names":["io","SocketioService","token","socket","process","env","VUE_APP_SOCKET_ENDPOINT","console","log","on","data","cb","message","name","emit","disconnect"],"mappings":";;;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,SAASA,EAAT,QAAmB,kBAAnB;;IAEMC,e;AAGJ,6BAAc;AAAA;;AAAA;;AAAA,sCADJ,EACI;AAAE;;;;WAEhB,+BAAsBC,KAAtB,EAA6B;AAC3B,WAAKC,MAAL,GAAcH,EAAE,CAACI,OAAO,CAACC,GAAR,CAAYC,uBAAb,EAAsC,CACpD;AACA;AACA;AAHoD,OAAtC,CAAhB;AAKAC,MAAAA,OAAO,CAACC,GAAR,yBAAoCN,KAApC;AAEA,WAAKC,MAAL,CAAYM,EAAZ,CAAe,cAAf,EAA+B,UAACC,IAAD,EAAU;AACvCH,QAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;AACD,OAFD;AAGD,K,CAED;AACA;AACA;AACA;AACA;AACA;AACA;;;;WACA,wBAAeC,EAAf,EAAkB;AAChB,UAAG,CAAC,KAAKR,MAAT,EAAiB,OAAO,IAAP;AACjB,WAAKA,MAAL,CAAYM,EAAZ,CAAe,gBAAf,EAAiC,UAAAG,OAAO,EAAI;AAC1C,eAAOD,EAAE,CAAC,IAAD,EAAO;AAACC,UAAAA,OAAO,EAAPA,OAAD;AAAUC,UAAAA,IAAI,EAAE;AAAhB,SAAP,CAAT;AACD,OAFD;AAGD;;;WAED,oBAAWF,EAAX,EAAc;AACZ,UAAG,CAAC,KAAKR,MAAT,EAAiB,OAAO,IAAP;AACjB,WAAKA,MAAL,CAAYM,EAAZ,CAAe,YAAf,EAA6B,UAAAG,OAAO,EAAI;AACtC,eAAOD,EAAE,CAAC,IAAD,EAAO;AAACC,UAAAA,OAAO,EAAPA,OAAD;AAAUC,UAAAA,IAAI,EAAE;AAAhB,SAAP,CAAT;AACD,OAFD;AAGD,K,CAED;AACA;AACA;;;;WAEA,qBAAYD,OAAZ,EAAqBD,EAArB,EAAyB;AACvB,UAAG,KAAKR,MAAR,EAAgB,KAAKA,MAAL,CAAYW,IAAZ,CAAiB,aAAjB,EAA+BF,OAA/B,EAAuCD,EAAvC;AACjB;;;WAED,sBAAa;AACX,UAAG,KAAKR,MAAR,EAAgB;AACd,aAAKA,MAAL,CAAYY,UAAZ;AACD;AACF;;;;;;AAGH,eAAe,IAAId,eAAJ,EAAf,C,CAIA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import { io } from 'socket.io-client';\n\n// class SocketioService {\n//   socket;\n//   constructor() {}\n\n//   setupSocketConnection(token) {\n//     this.socket = io(process.env.VUE_APP_SOCKET_ENDPOINT, {\n//       auth: {\n//         token,\n//       },\n//     });\n//     console.log(`Connecting socket...`);\n    \n//     this.socket.on('my broadcast', (data) => {\n//       console.log(data);\n//     });\n//   }\n\n//   subscribeToMessages(cb) {\n//     if (!this.socket) return(true);\n//     this.socket.on('message', msg => {\n//       console.log('Room event received!');\n//       return cb(null, msg);\n//     });\n//   }\n  \n//   sendMessage({message, roomName}, cb) {\n//     if (this.socket) this.socket.emit('message', { message, roomName }, cb);\n//   }\n  \n//   disconnect() {\n//     if(this.socket) {\n//       this.socket.disconnect();\n//     }\n//   }\n// }\n\n// export default new SocketioService();\n\nimport { io } from 'socket.io-client';\n\nclass SocketioService {\n  socket;\n  chatRoom ='';\n  constructor() {}\n\n  setupSocketConnection(token) {\n    this.socket = io(process.env.VUE_APP_SOCKET_ENDPOINT, {\n      // auth: {\n      //   token,\n      // },\n    });\n    console.log(`Connecting socket...`, token);\n    \n    this.socket.on('my broadcast', (data) => {\n      console.log(data);\n    });\n  }\n\n  // subscribeToMessages(cb) {\n  //   if (!this.socket) return(true);\n  //   this.socket.on('message', msg => {\n  //     console.log('Room event received!');\n  //     return cb(null, msg);\n  //   });\n  // }\n  receiveMessage(cb){\n    if(!this.socket) return true;\n    this.socket.on(\"receiveMessage\", message => {\n      return cb(null, {message, name: \"Stranger\"});\n    })\n  }\n\n  statusRoom(cb){\n    if(!this.socket) return true;\n    this.socket.on(\"statusRoom\", message => {\n      return cb(null, {message, name: \"Bot\"});\n    })\n  }\n  \n  // sendMessage({message, roomName}, cb) {\n  //   if (this.socket) this.socket.emit('message', { message, roomName }, cb);\n  // }\n\n  sendMessage(message, cb) {\n    if(this.socket) this.socket.emit('sendMessage',message,cb);\n  }\n  \n  disconnect() {\n    if(this.socket) {\n      this.socket.disconnect();\n    }\n  }\n}\n\nexport default new SocketioService();\n\n\n\n// import { io } from 'socket.io-client';\n\n// class SocketioService {\n//   socket;\n//   constructor() {}\n\n//   setupSocketConnection() {\n//     this.socket = io(process.env.VUE_APP_SOCKET_ENDPOINT);\n//     this.socket.emit('my message', 'Hello there from Vue.');\n    \n//     this.socket.on('my broadcast', (data) => {\n//       console.log(data, this.socket);\n//     });\n//   }\n  \n//   disconnect() {\n//     if(this.socket) {\n//       this.socket.disconnect();\n//     }\n//   }\n// }\n\n// export default new SocketioService();"]}]}